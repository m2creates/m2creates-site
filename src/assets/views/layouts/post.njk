{% extends "layouts/base.njk" %}

{% block styles %}
{% if blocks.css === 'youtube' %}
<link rel="stylesheet" href="/assets/styles/youtube.css" />
{% endif %}
{% if blocks.css === 'twitch' %}
<link rel="stylesheet" href="/assets/styles/twitch.css" />
{% endif %}
{% endblock %}

{% block scripts_body %}
{% if blocks.js === 'youtube' %}
<script src="/assets/scripts/youtube.js" defer></script>
{% endif %}
{% if blocks.js === 'twitch' %}
<script src="/assets/scripts/twitch.js" defer></script>
{% endif %}
{% endblock %}

{% block content %}

<article>

  <!-- Post title -->
  <h1 class="mt-0 mb-3 text-3xl font-extrabold break-normal md:text-5xl">{{ title }}</h1>

  <!-- Meta -->
  <p class="text-sm md:text-base text-{{ brand.colors.accent }}-600 dark:text-{{ brand.colors.main }}-100 font-bold uppercase">
    
    <!-- Author -->
    <span>By {{ site.author.name }}</span>
    <span class="px-1 text-{{ brand.colors.main }}-900 dark:text-{{ brand.colors.main }}-100">/</span>
    
    <!-- Dates -->
    {% if displayDateUpdate %}
      <time datetime="{{ datePublish }}" itemProp="datePublished">{{ datePublish | readableDate }}</time>{% if date != datePublish %} â€¢ Updated: <time datetime="{{ date }}" itemProp="dateUpdated">{{ page.date | readableDate }}</time>{% endif %}
    {% else %}
      <time datetime="{{ datePublish }}" itemProp="datePublished">{{ datePublish | readableDate }}</time>
    {% endif %}
    <span class="px-1 text-{{ brand.colors.main }}-900 dark:text-{{ brand.colors.main }}-100">/</span>
    
    <!-- Reading time -->
    <span class="uppercase">{{ content | readingTime }} read</span>
    
    <!-- TODO: Categories -->
    {# {% if category %}
    <span class="px-1 text-{{ brand.colors.main }}-900 dark:text-{{ brand.colors.main }}-100">/</span>
      <span class="category">
        {% set catUrl %}/category/{{ category | slug }}/{% endset %}
        <a href="{{ catUrl | url }}" rel="category" class="no-underline">{{ category }}</a>
      </span>
    {% endif %} #}
  </p>

  <!-- TLDR -->
  {% if tldr %}
  <p class="tldr">{{ tldr }}</p>
  {% endif %}

  <!-- Featured Image/Poster -->
  {% if image.url %}
  <figure class="mb-8 max-w-screen">
    <img src="{{ image.url }}" alt="{{ image.alt }}" class="object-cover mb-3 aspect-w-4 aspect-h-3"/>
    {% if image.credit %}
    <figcaption><span>{{ image.credit }}</span></figcaption>
    {% endif %}
  </figure>
  {% endif %}

  <!-- Content -->
  {{ content | safe }}

  {% include "components/BuyMeACoffee/BuyMeACoffee.njk" %}

</article>

{% endblock %}
